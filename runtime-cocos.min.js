!function t(e,i,r){function n(a,s){if(!i[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[a]={exports:{}};e[a][0].call(l.exports,function(t){var i=e[a][1][t];return n(i?i:t)},l,l.exports,t,e,i,r)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(t,e,i){window.Runtime={},t("./share/asset"),t("./page")},{"./page":5,"./share/asset":15}],2:[function(t,e,i){var r=t("./node"),n=Fire.Class({name:"Runtime.ButtonWrapper","extends":r,constructor:function(){this._normalTexToLoad="",this._pressedTexToLoad="",this._disabledTexToLoad=""},properties:{_normalTexture:{get:function(){if(!this.targetN._buttonNormalRenderer)return"";var t=this.targetN._buttonNormalRenderer.texture;return t?t.url:""},set:function(t){this.targetN?this.targetN.loadTextureNormal(t):this._normalTexToLoad=t},visible:!0,url:Fire.Texture},_pressedTexture:{get:function(){if(!this.targetN._buttonClickedRenderer)return"";var t=this.targetN._buttonClickedRenderer.texture;return t?t.url:""},set:function(t){this.targetN?this.targetN.loadTexturePressed(t):this._pressedTexToLoad=t},visible:!0,url:Fire.Texture},_disabledTexture:{get:function(){if(!this.targetN._buttonDisableRenderer)return"";var t=this.targetN._buttonDisableRenderer.texture;return t?t.url:""},set:function(t){this.targetN?this.targetN.loadTextureDisabled(t):this._disabledTexToLoad=t},visible:!0,url:Fire.Texture},text:{get:function(){return this.targetN.titleText},set:function(t){"string"==typeof t?this.targetN.titleText=t:Fire.error("The new text must be String")}},fontSize:{get:function(){return this.targetN.titleFontSize},set:function(t){isNaN(t)?Fire.error("The new fontSize must not be NaN"):this.targetN.titleFontSize=t}},_font:{"default":null,type:Fire.TTFFont,notify:function(){if(this.targetN){var t=this._font;!t||t instanceof Fire.TTFFont?this._setFontToNode(t):Fire.error("The new font must be Fire.TTFFont")}}},fontFamily:{get:function(){return this.targetN.titleFontName},set:function(t){"string"==typeof t?this.targetN.titleFontName=t:Fire.error("The new fontFamily must be String")}},_text:{"default":"Button"},_fontSize:{"default":16},_fontFamily:{"default":null}},statics:{},_setFontToNode:function(t,e){if(e=e?e:this.targetN,t){var i={type:"font",name:t.fontFamily,srcs:[t.url]};cc.loader.load(i,function(t,r){if(t)throw t;e.titleFontName=i.name})}else e.fontName="Arial"},onBeforeSerialize:function(){r.prototype.onBeforeSerialize.call(this),this._text=this.text,this._fontSize=this.fontSize,this._fontFamily=this.fontFamily},createNode:function(t){return t=t||new ccui.Button(this._normalTexToLoad,this._pressedTexToLoad,this._disabledTexToLoad),this._normalTexToLoad=this._pressedTexToLoad=this._disabledTexToLoad="",r.prototype.createNode.call(this,t),t.titleText=this._text,t.titleFontSize=this._fontSize,t.titleFontName=null===this._fontFamily?t.titleFontName:this._fontFamily,this._setFontToNode(this._font,t),t}});Runtime.ButtonWrapper=e.exports=n},{"./node":7}],3:[function(t,e,i){var r=Runtime.TextAlign,n=Runtime.TextAnchor,o=function(){var t=new Array(n.BottomRight+1);return t[n.TopLeft]=cc.p(0,1),t[n.TopCenter]=cc.p(.5,1),t[n.TopRight]=cc.p(1,1),t[n.MiddleLeft]=cc.p(0,.5),t[n.MiddleCenter]=cc.p(.5,.5),t[n.MiddleRight]=cc.p(1,.5),t[n.BottomLeft]=cc.p(0,0),t[n.BottomCenter]=cc.p(.5,0),t[n.BottomRight]=cc.p(1,0),function(e){var i=t[e];return cc.p(i)}}(),a=t("./node"),s=Fire.Class({name:"Runtime.BitmapFontWrapper","extends":a,constructor:function(){this._bitmapFontToLoad=""},properties:{_bitmapFont:{get:function(){return this.targetN._fntFile||""},set:function(t){this._bitmapFontToLoad=t,this.targetN&&(this.targetN._fntFile=t,this.onBeforeSerialize(),this.createNode(this.targetN))},visible:!0,url:Fire.BitmapFont},text:{get:function(){return this.targetN.string},set:function(t){"string"==typeof t?this.targetN.string=t:Fire.error("The new text must be string")}},anchor:{get:function(){return this._anchor},set:function(t){if("number"==typeof t){this._anchor=t;var e=o(t);this.targetN.setAnchorPoint(e)}else Fire.error("The new text must be number")},type:n},align:{get:function(){return this.targetN.textAlign},set:function(t){"number"==typeof t?this.targetN.textAlign=t:Fire.error("The new text must be number")},type:r},childrenN:{get:function(){return[]}},_text:{"default":""},_anchor:{"default":n.MiddleCenter},_align:{"default":r.Left}},statics:{canHaveChildrenInEditor:!1},onBeforeSerialize:function(){a.prototype.onBeforeSerialize.call(this),this._text=this.text,this._anchor=this.anchor,this._align=this.align},createNode:function(t){t=t||new cc.LabelBMFont,a.prototype.createNode.call(this,t);var e;return this._bitmapFontToLoad&&(e=this._bitmapFontToLoad,this._bitmapFontToLoad=""),e?(t._fntFile=e,cc.loader.load(e,function(i,r){t.initWithString(this._text,e),t.setAnchorPoint(o(this._anchor)),t.textAlign=this._align}.bind(this))):(t.setAnchorPoint(o(this._anchor)),t.textAlign=this._align),t}});Runtime.BitmapFontWrapper=e.exports=s},{"./node":7}],4:[function(t,e,i){var r=Fire.Class({name:"Runtime.EngineWrapper","extends":Fire.Runtime.EngineWrapper,constructor:function(){},properties:{canvasSize:{get:function(){var t=cc.view.getVisibleSize();return new Fire.Vec2(t.width,t.height)},set:function(t){var e=t.x,i=t.y,r=cc.view;r.setDesignResolutionSize(e,i,r._resolutionPolicy)}},_needAnimate:!1,_needRender:!0},initRuntime:function(t,e){var i=t.width||800,r=t.height||600,n=t.canvas,o="gameCanvas";n.id?o=n.id:n.id=o;var a=this;if(document){var s=document.ccConfig||{};document.ccConfig={width:i,height:r,debugMode:1,showFPS:!1,frameRate:60,id:o,renderMode:Fire.isEditor?2:s.renderMode,jsList:[]}}cc.game._initConfig(),cc.game.onStart=function(){var t=new cc.Scene;t.setAnchorPoint(0,0),cc.view.setResolutionPolicy(cc.ResolutionPolicy.SHOW_ALL),a._setCurrentSceneN(t),cc.director._paused=!0,cc._canvas.setAttribute("tabindex",-1),cc._canvas.style.backgroundColor="",cc.imeDispatcher._domInputControl&&cc.imeDispatcher._domInputControl.setAttribute("tabindex",-1),a.canvasSize=new Fire.Vec2(i,r),a._registerStepRuntime(),e&&e()},this._dontRegisterSystemEvent(),cc.game.run()},playRuntime:function(){this._registerCocosSystemEvent(cc._canvas),cc._canvas.setAttribute("tabindex",99),cc._canvas.style.backgroundColor="black",cc.imeDispatcher._domInputControl&&cc.imeDispatcher._domInputControl.setAttribute("tabindex",2),cc.director.resume(),cc.view.setDesignResolutionSize(640,480),cc.view.resizeWithBrowserSize(!0)},stopRuntime:function(){},pauseRuntime:function(){cc.director.pause()},resumeRuntime:function(){cc.director.resume()},animateRuntime:function(t){this._needAnimate=!0},renderRuntime:function(){this._needRender=!0},_registerStepRuntime:function(){var t=this,e=cc.director.drawScene;cc.director.drawScene=function(){if(t.isPlaying||t._needRender){t._needRender=!1;var i=Fire.engine;i.emit("post-update"),(i._stepOnce||!t.isPlaying&&i._needAnimate)&&(this._paused=!1),e.call(this),(i._stepOnce||!t.isPlaying&&i._needAnimate)&&(this._paused=!0,i._stepOnce=!1,i._needAnimate=!1)}}},_setCurrentSceneN:function(t){cc.director.runScene(t),cc.director.setNextScene()},getCurrentSceneN:function(){return cc.director.getRunningScene()},_dontRegisterSystemEvent:function(){this._registerCocosSystemEvent=cc.inputManager.registerSystemEvent.bind(cc.inputManager),cc.inputManager.registerSystemEvent=function(){}},getIntersectionList:function(t){var e=this.getCurrentScene(),i=[];return e._deepQueryChildren(function(e){var r=e.getWorldBounds();if(t.intersects(r)){r=e.getWorldOrientedBounds();var n=new Fire.Polygon(r);Fire.Intersection.rectPolygon(t,n)&&i.push(e.targetN)}return!0}),i}});Runtime.EngineWrapper=e.exports=r},{}],5:[function(t,e,i){function r(t,e,i,r){var n=t[e];Fire.Runtime.registerNodeType(n,i,r),t[e]=n}t("./utils"),t("./types");var n=t("./engine");Fire.Runtime.registerEngine(new n(!1));var o=[[cc,"Node",t("./node"),"Node"],[cc,"Scene",t("./scene")],[cc,"Sprite",t("./sprite"),"Sprite"],[cc,"LabelBMFont",t("./bitmap-font"),"LabelBMFont"],[cc,"LabelTTF",t("./label-ttf"),"LabelTTF"],[cc,"ParticleSystem",t("./particle"),"ParticleSystem"],[cc,"TMXTiledMap",t("./tiled-map")],[ccui,"Button",t("./Button"),"UI/Button"]];o.forEach(function(t){r(t[0],t[1],t[2],t[3])})},{"./Button":2,"./bitmap-font":3,"./engine":4,"./label-ttf":6,"./node":7,"./particle":8,"./scene":9,"./sprite":10,"./tiled-map":11,"./types":12,"./utils":13}],6:[function(t,e,i){var r=t("./node"),n=Fire.Class({name:"Runtime.LabelTTFWrapper","extends":r,constructor:function(){},properties:{text:{get:function(){return this.targetN.string},set:function(t){"string"==typeof t?this.targetN.string=t:Fire.error("The new text must be String")}},fontSize:{get:function(){return this.targetN.fontSize},set:function(t){isNaN(t)?Fire.error("The new fontSize must not be NaN"):this.targetN.fontSize=t}},font:{"default":null,type:Fire.TTFFont,notify:function(){if(this.targetN){var t=this.font;!t||t instanceof Fire.TTFFont?this._setFontToNode(t):Fire.error("The new font must be Fire.TTFFont")}}},fontFamily:{get:function(){return this.targetN.fontName},set:function(t){"string"==typeof t?this.targetN.fontName=t:Fire.error("The new fontFamily must be String")}},align:{get:function(){return this.targetN.textAlign},set:function(t){"number"==typeof t?this.targetN.textAlign=t:Fire.error("The new textAlign must be number")},type:Runtime.TextAlign},verticalAlign:{get:function(){return this.targetN.verticalAlign},set:function(t){"number"==typeof t?this.targetN.verticalAlign=t:Fire.error("The new verticalAlign must be number")},type:Runtime.TextVerticalAlign},boundingBox:{get:function(){var t=this.targetN;return new Fire.Vec2(t.boundingWidth,t.boundingHeight)},set:function(t){t instanceof Fire.Vec2?(this.targetN.boundingWidth=t.x,this.targetN.boundingHeight=t.y):Fire.error("The new boundingBox must be Vec2")},type:Fire.Vec2},lineHeight:{get:function(){return this.targetN.getLineHeight()},set:function(t){"number"==typeof t?(this.targetN.setLineHeight(t),this.targetN._setUpdateTextureDirty()):Fire.error("The new lineHeight must be number")}},_text:{"default":"Label"},_fontSize:{"default":16},_fontFamily:{"default":null},_align:{"default":Runtime.TextAlign.Left},_verticalAlign:{"default":Runtime.TextVerticalAlign.Top},_boundingBox:{"default":null},_lineHeight:{"default":null}},_setFontToNode:function(t,e){if(e=e?e:this.targetN,t){var i={type:"font",name:t.fontFamily,srcs:[t.url]};cc.loader.load(i,function(t,r){if(t)throw t;e.fontName=i.name})}else e.fontName="Arial"},onBeforeSerialize:function(){r.prototype.onBeforeSerialize.call(this),this._text=this.text,this._fontSize=this.fontSize,this._fontFamily=this.fontFamily,this._align=this.align,this._verticalAlign=this.verticalAlign,this._boundingBox=[this.boundingBox.x,this.boundingBox.y],this._lineHeight=this.lineHeight},createNode:function(t){t=t||new cc.LabelTTF,r.prototype.createNode.call(this,t),t.string=this._text,t.fontSize=this._fontSize,t.fontName=null===this._fontFamily?t.fontName:this._fontFamily,t.textAlign=this._align,t.verticalAlign=this._verticalAlign,"number"==typeof this._lineHeight&&t.setLineHeight(this._lineHeight);var e=this._boundingBox;return e&&(t.boundingWidth=e[0],t.boundingHeight=e[1]),this._setFontToNode(this.font,t),t}});Runtime.LabelTTFWrapper=e.exports=n},{"./node":7}],7:[function(t,e,i){var r=Fire.Vec2,n=Fire.Rect,o=Fire.Color,a=Fire.Runtime.Helpers,s=Fire.Class({name:"Runtime.NodeWrapper","extends":Fire.Runtime.NodeWrapper,properties:{name:{get:function(){return this.targetN.getName()},set:function(t){this.targetN.setName(t)}},parentN:{get:function(){return this.targetN.parent},set:function(t){this.targetN.parent&&this.targetN.removeFromParent(),t&&(t.addChild(this.targetN),this.setMaxZorder())},visible:!1},childrenN:{get:function(){return this.targetN.children},visible:!1},position:{get:function(){return new r(this.targetN.x,this.targetN.y)},set:function(t){t instanceof r?this.targetN.setPosition(t.x,t.y):Fire.error("The new position must be Fire.Vec2")}},worldPosition:{get:function(){var t=this.targetN.convertToWorldSpaceAR(cc.p(0,0));return new r(t.x,t.y)},set:function(t){if(t instanceof r)if(this.parentN){var e=this.parentN.convertToNodeSpace(t);this.targetN.setPosition(e.x,e.y)}else this.position=t;else Fire.error("The new worldPosition must be Fire.Vec2")},visible:!1},rotation:{get:function(){return this.targetN.rotation},set:function(t){isNaN(t)?Fire.error("The new rotation must not be NaN"):this.targetN.rotation=t}},worldRotation:{get:function(){var t=this.parentN;return t?t instanceof cc.Scene?this.rotation+t.rotation:this.rotation+Fire(t).worldRotation:this.rotation},set:function(t){if(isNaN(t))Fire.error("The new worldRotation must not be NaN");else{var e=this.parentN;this.rotation=e?e instanceof cc.Scene?t-e.rotation:t-Fire(e).worldRotation:t}},visible:!1},scale:{get:function(){return new r(this.targetN.scaleX,this.targetN.scaleY)},set:function(t){t instanceof r?(this.targetN.scaleX=t.x,this.targetN.scaleY=t.y):Fire.error("The new scale must be Fire.Vec2")}},worldScale:{get:function(){var t=this.targetN.getNodeToWorldTransform(),e=new r;return e.x=Math.sqrt(t.a*t.a+t.b*t.b),e.y=Math.sqrt(t.c*t.c+t.d*t.d),e},visible:!1},anchorPoint:{get:function(){return new r(this.targetN.anchorX,this.targetN.anchorY)},set:function(t){t instanceof r?this.targetN.setAnchorPoint(t.x,t.y):Fire.error("The new anchorPoint must be Fire.Vec2")}},color:{get:function(){var t=this.targetN.color;return t.a=this.targetN.opacity,t.toFireColor()},set:function(t){if(t instanceof o){var e=t.toCCColor();this.targetN.color=e,this.targetN.opacity=e.a}else Fire.error("The new color must be Fire.Color")},visible:!0},size:{get:function(){var t=this.targetN.getContentSize();return new r(t.width,t.height)},set:function(t){t instanceof r?this.targetN.setContentSize(t.x,t.y):Fire.error("The new size must be Fire.Vec2")},visible:!1,readonly:!0},_name:{"default":""},_position:{"default":null},_scale:{"default":null},_rotation:{"default":0},_size:{"default":null},_color:{"default":null},_anchorPoint:{"default":null}},statics:{},setMaxZorder:function(){var t=this.parentN,e=t.children.length;if(e>=2){var i=t.children[e-2],r=i.getLocalZOrder()+1;this.targetN.setLocalZOrder(r)}},setSiblingIndex:function(t){if(this.parentN){Fire.Runtime.NodeWrapper.prototype.setSiblingIndex.call(this,t);for(var e=this.parentN.children,i=0;i<e.length;i++)e[i].setLocalZOrder(i);cc.renderer.childrenOrderDirty=!0}},attached:function(){var t=this.targetN.onEnter;this.targetN.onEnter=function(){t.call(this),a.onNodeAttachedToParent(this)};var e=this.targetN.onExit;this.targetN.onExit=function(){e.call(this),a.onNodeDetachedFromParent(this)},this.targetN.scheduleUpdate()},getWorldBounds:function(t){var e=this.size,i=cc.rect(0,0,e.x,e.y),r=this.targetN.getNodeToWorldTransform();return cc._rectApplyAffineTransformIn(i,r),t=t||new n,t.x=i.x,t.y=i.y,t.width=i.width,t.height=i.height,t},getWorldOrientedBounds:function(t,e,i,n){var o=this.size,a=o.x,s=o.y;t=t||new r,e=e||new r,i=i||new r,n=n||new r;var c=this.targetN.getNodeToWorldTransform(),u=c.tx,l=c.ty,h=c.a*a,f=c.b*a,d=c.c*s,g=c.d*s;return e.x=u,e.y=l,i.x=h+u,i.y=f+l,t.x=d+u,t.y=g+l,n.x=h+d+u,n.y=f+g+l,[t,e,i,n]},transformPointToWorld:function(t){var e=this.targetN.convertToWorldSpaceAR(t);return new Fire.Vec2(e.x,e.y)},transformPointToLocal:function(t){var e=this.targetN.convertToNodeSpaceAR(t);return new Fire.Vec2(e.x,e.y)},onBeforeSerialize:function(){this._name=this.name,this._size=[this.size.x,this.size.y],this._scale=[this.scaleX,this.scaleY],this._rotation=this.rotation,this._position=[this.position.x,this.position.y],this._anchorPoint=[this.anchorPoint.x,this.anchorPoint.y];var t=this.color;this._color=[t.r,t.g,t.b,t.a]},createNode:function(t){t=t||new cc.Node;var e=this._size?this._size[0]:0,i=this._size?this._size[1]:0;t.setName(this._name),t.setContentSize(e,i),t.x=this._position?this._position[0]:0,t.y=this._position?this._position[1]:0,t.scaleX=this._scale?this._scale[0]:1,t.scaleY=this._scale?this._scale[1]:1,t.rotation=this._rotation,this._anchorPoint&&t.setAnchorPoint(this._anchorPoint[0],this._anchorPoint[1]);var r=this._color?new o(this._color[0],this._color[1],this._color[2],this._color[3]):o.white;return t.color=r.toCCColor(),t}});Runtime.NodeWrapper=e.exports=s},{}],8:[function(t,e,i){var r=t("./node"),n=["maxParticles","duration","emissionRate","life","lifeVariance","startColor","startColorVariance","endColor","endColorVariance","angle","angleVariance","startSize","startSizeVariance","endSize","endSizeVariance","startSpin","startSpinVariance","endSpin","endSpinVariance","sourcePosition","sourcePositionVariance","positionType","emitterMode"],o=["gravity","speed","speedVariance","tangentialAccel","tangentialAccelVariance","radialAccel","radialAccelVariance","rotationIsDir"],a=["startRadius","startRadiusVariance","endRadius","endRadiusVariance","rotatePerSecond","rotatePerSecondVariance"],s=Fire.Class({name:"Runtime.ParticleWrapper","extends":r,constructor:function(){this._fileToLoad="",this._texToLoad=""},properties:{custom:{"default":!1},parentN:{get:function(){return this.targetN.parent},set:function(t){this.targetN.parent&&this.targetN.removeFromParent(),t&&(t.addChild(this.targetN),this.setMaxZorder(),this.targetN.scheduleUpdateWithPriority(1))},visible:!1},_file:{get:function(){return this.targetN._plistFile||""},set:function(t){var e=this.targetN;e?(e._plistFile=t,cc.loader.load(t,function(i,r){if(i)throw i;var n=e.getPosition();e.particleCount=0,e.initWithFile(t),e.setPosition(n)})):this._fileToLoad=t},visible:!0,url:Runtime.ParticleAsset},_texture:{get:function(){var t=this.targetN.texture;return t&&t.url||""},set:function(t){if(this.targetN){var e=t?cc.textureCache.addImage(t):null;this.targetN.texture=e}else this._texToLoad=t},visible:!0,url:Fire.Texture},particleCount:{get:function(){return this.targetN.particleCount}},maxParticles:{get:function(){return this.targetN.totalParticles},set:function(t){isNaN(t)?Fire.error("The new duration must not be NaN"):this.targetN.totalParticles=t}},duration:{get:function(){return this.targetN.duration},set:function(t){isNaN(t)?Fire.error("The new duration must not be NaN"):this.targetN.duration=t}},emissionRate:{get:function(){return this.targetN.emissionRate},set:function(t){isNaN(t)?Fire.error("The new emissionRate must not be NaN"):this.targetN.emissionRate=t}},life:{get:function(){return this.targetN.life},set:function(t){isNaN(t)?Fire.error("The new life must not be NaN"):this.targetN.life=t}},lifeVariance:{get:function(){return this.targetN.lifeVar},set:function(t){isNaN(t)?Fire.error("The new lifeVariance must not be NaN"):this.targetN.lifeVar=t}},startColor:{get:function(){return this.targetN.startColor.toFireColor()},set:function(t){t instanceof Fire.Color?this.targetN.startColor=t.toCCColor():Fire.error("The new startColor must be Fire.Color")},type:Fire.Color},startColorVariance:{get:function(){return this.targetN.startColorVar.toFireColor()},set:function(t){t instanceof Fire.Color?this.targetN.startColorVar=t.toCCColor():Fire.error("The new startColorVariance must be Fire.Color")},type:Fire.Color},endColor:{get:function(){return this.targetN.endColor.toFireColor()},set:function(t){t instanceof Fire.Color?this.targetN.endColor=t.toCCColor():Fire.error("The new endColor must be Fire.Color")},type:Fire.Color},endColorVariance:{get:function(){return this.targetN.endColorVar.toFireColor()},set:function(t){t instanceof Fire.Color?this.targetN.endColorVar=t.toCCColor():Fire.error("The new endColorVariance must be Fire.Color")},type:Fire.Color},angle:{get:function(){return this.targetN.angle},set:function(t){isNaN(t)?Fire.error("The new angle must not be NaN"):this.targetN.angle=t}},angleVariance:{get:function(){return this.targetN.angleVar},set:function(t){isNaN(t)?Fire.error("The new angleVariance must not be NaN"):this.targetN.angleVar=t}},startSize:{get:function(){return this.targetN.startSize},set:function(t){isNaN(t)?Fire.error("The new startSize must not be NaN"):this.targetN.startSize=t}},startSizeVariance:{get:function(){return this.targetN.startSizeVar},set:function(t){isNaN(t)?Fire.error("The new startSizeVariance must not be NaN"):this.targetN.startSizeVar=t}},endSize:{get:function(){return this.targetN.endSize},set:function(t){isNaN(t)?Fire.error("The new endSize must not be NaN"):this.targetN.endSize=t}},endSizeVariance:{get:function(){return this.targetN.endSizeVar},set:function(t){isNaN(t)?Fire.error("The new endSizeVariance must not be NaN"):this.targetN.endSizeVar=t}},startSpin:{get:function(){return this.targetN.startSpin||0},set:function(t){isNaN(t)?Fire.error("The new startSpin must not be NaN"):this.targetN.startSpin=t}},startSpinVariance:{get:function(){return this.targetN.startSpinVar||0},set:function(t){isNaN(t)?Fire.error("The new startSpinVariance must not be NaN"):this.targetN.startSpinVar=t}},endSpin:{get:function(){return this.targetN.endSpin||0},set:function(t){isNaN(t)?Fire.error("The new endSpin must not be NaN"):this.targetN.endSpin=t}},endSpinVariance:{get:function(){return this.targetN.endSpinVar||0},set:function(t){isNaN(t)?Fire.error("The new endSpinVariance must not be NaN"):this.targetN.endSpinVar=t}},sourcePosition:{get:function(){var t=this.targetN.sourcePos;return new Fire.Vec2(t.x,t.y)},set:function(t){t instanceof Fire.Vec2?this.targetN.sourcePos=cc.p(t.x,t.y):Fire.error("The new sourcePosition must be Fire.Vec2")},type:Fire.Vec2},sourcePositionVariance:{get:function(){var t=this.targetN.posVar;return new Fire.Vec2(t.x,t.y)},set:function(t){t instanceof Fire.Vec2?this.targetN.posVar=cc.p(t.x,t.y):Fire.error("The new sourcePositionVariance must be Fire.Vec2")},type:Fire.Vec2},positionType:{get:function(){return this.targetN.positionType},set:function(t){isNaN(t)?Fire.error("The new positionType must not be NaN"):this.targetN.positionType=t},type:Runtime.ParticlePositionType},emitterMode:{get:function(){return this.targetN.emitterMode},set:function(t){isNaN(t)?Fire.error("The new emitterMode must not be NaN"):this.targetN.emitterMode=t},type:Runtime.ParticleEmitMode},gravity:{get:function(){var t=this.targetN.gravity;return new Fire.Vec2(t.x,t.y)},set:function(t){t instanceof Fire.Vec2?this.targetN.gravity=cc.p(t.x,t.y):Fire.error("The new gravity must be Fire.Vec2")},type:Fire.Vec2},speed:{get:function(){return this.targetN.speed||0},set:function(t){isNaN(t)?Fire.error("The new speed must not be NaN"):this.targetN.speed=t}},speedVariance:{get:function(){return this.targetN.speedVar||0},set:function(t){isNaN(t)?Fire.error("The new speedVariance must not be NaN"):this.targetN.speedVar=t}},tangentialAccel:{get:function(){return this.targetN.tangentialAccel||0},set:function(t){isNaN(t)?Fire.error("The new tangentialAccel must not be NaN"):this.targetN.tangentialAccel=t}},tangentialAccelVariance:{get:function(){return this.targetN.tangentialAccelVar||0},set:function(t){isNaN(t)?Fire.error("The new tangentialAccelVariance must not be NaN"):this.targetN.tangentialAccelVar=t}},radialAccel:{get:function(){return this.targetN.radialAccel||0},set:function(t){isNaN(t)?Fire.error("The new radialAccel must not be NaN"):this.targetN.radialAccel=t}},radialAccelVariance:{get:function(){return this.targetN.radialAccelVar||0},set:function(t){isNaN(t)?Fire.error("The new radialAccelVariance must not be NaN"):this.targetN.radialAccelVar=t}},rotationIsDir:{get:function(){return this.targetN.rotationIsDir},set:function(t){isNaN(t)?Fire.error("The new rotationIsDir must not be NaN"):this.targetN.rotationIsDir=t}},startRadius:{get:function(){return this.targetN.startRadius||0},set:function(t){isNaN(t)?Fire.error("The new startRadius must not be NaN"):this.targetN.startRadius=t}},startRadiusVariance:{get:function(){return this.targetN.startRadiusVar||0},set:function(t){isNaN(t)?Fire.error("The new startRadiusVariance must not be NaN"):this.targetN.startRadiusVar=t}},endRadius:{get:function(){return this.targetN.endRadius||0},set:function(t){isNaN(t)?Fire.error("The new endRadius must not be NaN"):this.targetN.endRadius=t}},endRadiusVariance:{get:function(){return this.targetN.endRadiusVar||0},set:function(t){isNaN(t)?Fire.error("The new endRadiusVariance must not be NaN"):this.targetN.endRadiusVar=t}},rotatePerSecond:{get:function(){return this.targetN.rotatePerSecond||0},set:function(t){isNaN(t)?Fire.error("The new rotatePerSecond must not be NaN"):this.targetN.rotatePerSecond=t}},rotatePerSecondVariance:{get:function(){return this.targetN.rotatePerSecondVar||0},set:function(t){isNaN(t)?Fire.error("The new rotatePerSecondVariance must not be NaN"):this.targetN.rotatePerSecondVar=t}},_serializeObject:{"default":null}},statics:{animatableInEditor:!0},onFocusInEditor:function(){this.targetN.resetSystem()},onLostFocusInEditor:function(){this.targetN.resetSystem(),this.targetN.stopSystem(),Fire.engine.renderRuntime()},_serializeToObject:function(t,e){var i=this[e];t[e]=i instanceof Fire.Color?[i.r,i.g,i.b,i.a]:i instanceof Fire.Vec2?[i.x,i.y]:i},_deserializeFromObject:function(t,e){var i=t[e],r=Fire.attr(s,e);this[e]=r.ctor===Fire.Color?i?new Fire.Color(i[0],i[1],i[2],i[3]):Fire.Color.white:r.ctor===Fire.Vec2?i?new Fire.Vec2(i[0],i[1]):Fire.Vec2.zero:i},_createTextureFromData:function(t,e){if(!e)return null;var i=cc.textureCache.getTextureForKey(t);if(i)return i;var r=cc.unzipBase64AsArray(e,1);if(!r)return Fire.error("Error decoding or ungzipping textureImageData"),!1;var n=cc.getImageFormatByData(r);if(n!==cc.FMT_TIFF&&n!==cc.FMT_PNG)return Fire.error("Unknown image format with Data"),!1;var o=cc.newElement("canvas");if(n===cc.FMT_PNG){var a=new cc.PNGReader(r);a.render(o)}else{var s=cc.tiffReader;s.parseTIFF(r,o)}return cc.textureCache.cacheImage(t,o),i=cc.textureCache.getTextureForKey(t),i||Fire.error("Error loading the texture"),i},onBeforeSerialize:function(){if(r.prototype.onBeforeSerialize.call(this),this.custom){this._serializeObject={};var t=this._serializeObject;t.emitterMode=this.emitterMode;var e=t.emitterMode===Runtime.ParticleEmitMode.Gravity?o:a,i=n.concat(e);i.forEach(function(e){this._serializeToObject(t,e)}.bind(this))}else this._serializeObject=null},createNode:function(t){t=t||new cc.ParticleSystem,r.prototype.createNode.call(this,t);var e=this._serializeObject;if(this.custom&&e){var i=e.emitterMode===Runtime.ParticleEmitMode.Gravity?o:a,s=n.concat(i),c=this.targetN;if(this.targetN=t,s.forEach(function(t){this._deserializeFromObject(e,t)}.bind(this)),this.targetN=c,this._fileToLoad&&(t._plistFile=this._fileToLoad,this._fileToLoad=""),this._texToLoad){var u=cc.textureCache.addImage(this._texToLoad);t.texture=u,this._texToLoad=""}else if(t._plistFile){var l=cc.loader.getRes(t._plistFile);if(l){var h=l.textureFileName,u=cc.textureCache.getTextureForKey(h);if(!u){var f=l.textureImageData;u=this._createTextureFromData(h,f)}t.texture=u}}}else if(this._fileToLoad){var d=t.getPosition();t.initWithFile(this._fileToLoad),t.setPosition(d)}return t}});Runtime.ParticleWrapper=e.exports=s},{"./node":7}],9:[function(t,e,i){var r=Fire.Vec2,n=Fire.Runtime.Helpers,o=Fire.Class({name:"Runtime.SceneWrapper","extends":Fire.Runtime.SceneWrapper,properties:{childrenN:{get:function(){return this.targetN.children},visible:!1},position:{get:function(){return new r(this.targetN.x,this.targetN.y)},set:function(t){t instanceof r?this.targetN.setPosition(t.x,t.y):Fire.error("The new position must be Fire.Vec2")}},worldPosition:{get:function(){return this.position},set:function(t){this.position=t}},scale:{get:function(){return new r(this.targetN.scaleX,this.targetN.scaleY)},set:function(t){t instanceof r?(this.targetN.scaleX=t.x,this.targetN.scaleY=t.y):Fire.error("The new scale must be Fire.Vec2")}},worldScale:{get:function(){return this.scale},set:function(t){this.scale=t}},rotation:{get:function(){return this.targetN.rotation},set:function(t){isNaN(t)?Fire.error("The new rotation must not be NaN"):this.targetN.rotation=t}},worldRotation:{get:function(){return this.rotation},set:function(t){this.rotation=t}},_position:{"default":null},_scale:{"default":null}},_deepQueryChildren:function(t){function e(t,i){for(var r=t.children,n=0;n<r.length;n++){var o=r[n];if(!i(o))break;e(o,i)}}e(this,t)},transformPointToWorld:function(t){var e=this.targetN.convertToWorldSpaceAR(t);return new Fire.Vec2(e.x,e.y)},transformPointToLocal:function(t){var e=this.targetN.convertToNodeSpaceAR(t);return new Fire.Vec2(e.x,e.y)},attached:function(){var t=this.targetN.onEnter;this.targetN.onEnter=function(){t.call(this),n.onNodeAttachedToParent(this)};var e=this.targetN.onExit;this.targetN.onExit=function(){e.call(this),n.onNodeDetachedFromParent(this)}},preloadAssets:function(t,e,i){var r=t.map(function(t){return t.url});r=r.concat(e),cc.loader.load(r,i)},onBeforeSerialize:function(){this._scale=[this.scaleX,this.scaleY],this._position=[this.position.x,this.position.y]},createNode:function(t){return t=t||new cc.Scene,t.setAnchorPoint(0,0),t.x=this._position?this._position[0]:0,t.y=this._position?this._position[1]:0,t.scaleX=this._scale?this._scale[0]:1,t.scaleY=this._scale?this._scale[1]:1,t}});Runtime.SceneWrapper=e.exports=o},{}],10:[function(t,e,i){var r=t("./node"),n=Fire.Class({name:"Runtime.SpriteWrapper","extends":r,constructor:function(){this._texToLoad=""},properties:{_texture:{get:function(){var t=this.targetN.texture;return t&&t.url||""},set:function(t){this.targetN?this.targetN.texture=t:this._texToLoad=t},visible:!0,url:Fire.Texture}},statics:{},createNode:function(t){return t=t||new cc.Sprite,r.prototype.createNode.call(this,t),this._texToLoad&&(t.texture=this._texToLoad,this._texToLoad=""),t}});Runtime.SpriteWrapper=e.exports=n},{"./node":7}],11:[function(t,e,i){var r=t("./node"),n=Fire.Class({name:"Runtime.TiledMapWrapper","extends":r,constructor:function(){this._fileToLoad=""},properties:{file:{get:function(){return this.targetN._file||""},set:function(t){if(!t)return void Fire.error("The new file must not be null");var e=this.targetN;if(e){var i=e.allLayers();i.forEach(function(t){e.removeChild(t)}),n.preloadTmx(t,function(i,r){if(i)throw i;this._textures=r,e._file=t,e.initWithTMXFile(t)}.bind(this))}else this._fileToLoad=t},url:Runtime.TiledMapAsset},childrenN:{get:function(){var t=this.targetN.children.filter(function(t){return!(t instanceof cc.TMXLayer)});return t}},_textures:{"default":[]}},statics:{preloadTmx:function(t,e){cc.loader.load(t,function(i){if(i)return void(e&&e(i));var r=new cc.TMXMapInfo(t),n=r.getTilesets();if(n){var o=n.map(function(t){return t.sourceImage});cc.loader.load(o,function(t){e(t,o)})}else e&&e()})}},createNode:function(t){return t=t||new cc.TMXTiledMap(this._fileToLoad),t._file=this._fileToLoad,r.prototype.createNode.call(this,t),t}});Runtime.TiledMapWrapper=e.exports=n},{"./node":7}],12:[function(t,e,i){Runtime.TextAlign=Fire.defineEnum({Left:-1,Center:-1,Right:-1}),Runtime.TextVerticalAlign=Fire.defineEnum({Top:-1,Center:-1,Bottom:-1}),Runtime.TextAnchor=Fire.defineEnum({TopLeft:-1,TopCenter:-1,TopRight:-1,MiddleLeft:-1,MiddleCenter:-1,MiddleRight:-1,BottomLeft:-1,BottomCenter:-1,BottomRight:-1}),Runtime.ParticlePositionType=Fire.defineEnum({Free:cc.ParticleSystem.TYPE_FREE,Grouped:cc.ParticleSystem.TYPE_GROUPED}),Runtime.ParticleEmitMode=Fire.defineEnum({Gravity:cc.ParticleSystem.MODE_GRAVITY,Radius:cc.ParticleSystem.MODE_RADIUS})},{}],13:[function(t,e,i){var r=Fire.Color;r.prototype.toCCColor=function(){return{r:255*this.r|0,g:255*this.g|0,b:255*this.b|0,a:255*this.a|0}},cc.Color.prototype.toFireColor=function(){return new r(this.r/255,this.g/255,this.b/255,this.a/255)}},{}],14:[function(t,e,i){},{"fire-url":void 0}],15:[function(t,e,i){t("./texture"),t("./bitmap-font"),t("./sprite-animation"),t("./particle"),t("./sprite-atlas"),t("./tiled-map")},{"./bitmap-font":14,"./particle":16,"./sprite-animation":17,"./sprite-atlas":18,
"./texture":19,"./tiled-map":20}],16:[function(t,e,i){var r=Fire.Class({name:"Runtime.ParticleAsset","extends":Fire.RawAsset,statics:{createNodeByUrl:function(e,i){t("fire-url")}}});Runtime.ParticleAsset=r,e.exports=r},{"fire-url":void 0}],17:[function(t,e,i){var r=Fire.Class({name:"Runtime.SpriteAnimationAsset","extends":Fire.Asset,properties:{0:{"default":"",url:Fire.Texture},1:{"default":"",url:Fire.Texture},2:{"default":"",url:Fire.Texture},3:{"default":"",url:Fire.Texture},4:{"default":"",url:Fire.Texture},5:{"default":"",url:Fire.Texture},6:{"default":"",url:Fire.Texture},7:{"default":"",url:Fire.Texture},8:{"default":"",url:Fire.Texture},9:{"default":"",url:Fire.Texture},loop:{"default":!0},delay:{"default":.5}}});Runtime.SpriteAnimationAsset=r,e.exports=r},{}],18:[function(t,e,i){var r=Fire.Class({name:"Runtime.SpriteAtlas","extends":Fire.RawAsset});Runtime.SpriteAtlas=r,e.exports=r},{}],19:[function(t,e,i){},{"fire-url":void 0}],20:[function(t,e,i){var r=Fire.Class({name:"Runtime.TiledMapAsset","extends":Fire.RawAsset,statics:{createNodeByUrl:function(t,e){}}});Runtime.TiledMapAsset=r,e.exports=r},{"fire-url":void 0}]},{},[1]);